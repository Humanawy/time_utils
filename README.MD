# ğŸ•’ Gridtime â€“ struktury czasu z obsÅ‚ugÄ… DST i drzewiastym API

`Gridtime` to zaawansowany system reprezentacji jednostek czasu w Pythonie â€“ z obsÅ‚ugÄ… zmian czasu (DST), strukturÄ… drzewa (dzieÅ„ â†’ godziny â†’ kwadranse) i wsparciem dla operacji takich jak iteracja, agregacja, przeszukiwanie.

## ğŸ¯ Cel

NarzÄ™dzie zostaÅ‚o stworzone **z myÅ›lÄ… o zastosowaniach w polskiej branÅ¼y energetycznej**, w szczegÃ³lnoÅ›ci:

- przetwarzaniu danych dobowo-godzinowych oraz 15-minutowych (tzw. kwadransowych),
- zachowaniu peÅ‚nej zgodnoÅ›ci ze specyfikÄ… czasowÄ… PSE i OSD (zmiana czasu, powtarzajÄ…ce siÄ™ i brakujÄ…ce godziny),
- zapewnieniu **jednoznacznego przypisania kaÅ¼dego rekordu do przedziaÅ‚u czasowego**, nawet przy przesuniÄ™ciu zegarowym.

## ğŸš€ Funkcje

- Strukturalne modelowanie czasu:
  - `Year`, `Quarter`, `Month`, `Week`, `Day`, `Hour`, `QuarterHour`
- Operacje na drzewie czasu:
  - `walk`, `get`, `count`, `tree()`, `print_tree()`
- ObsÅ‚uga czasu letniego/zimowego (brakujÄ…ce i podwÃ³jne godziny/kwadranse)
- Intuicyjne API: `len(day)`, `hour in day`, `for hour in day`

## ğŸ­ Zastosowanie w energetyce

System rozwiÄ…zuje typowe problemy branÅ¼owe:

âœ… Czytelne modelowanie doby: `Day â†’ Hour â†’ QuarterHour`  
âœ… ObsÅ‚uga **braku 2:00â€“3:00** (wiosna) i **powtÃ³rzenia 2:00â€“3:00** (jesieÅ„)  
âœ… KaÅ¼dy przedziaÅ‚ czasowy (`Hour`, `QuarterHour`) wie, czy:
- jest **duplikowany** (`is_duplicated=True`)
- reprezentuje **pierwsze** czy **drugie** wystÄ…pienie (`is_backward`)

---

## ğŸ§ª PrzykÅ‚ad uÅ¼ycia

```python
from datetime import date, datetime
from gridtime import Day, Hour

# DzieÅ„ zmiany czasu z letniego na zimowy â€“ 26 paÅºdziernika 2025
dst_day = Day(date(2025, 10, 26))

# Wypisz wszystkie godziny w tej dobie
for hour in dst_day:
    print(hour)

# Weryfikacja zduplikowanych godzin
print("Liczba godzin:", len(dst_day))  # âœ 25
duplicated_hours = [h for h in dst_day if h.is_duplicated]

# SprawdÅº drzewo struktury
print("\nStruktura drzewa:")
dst_day.print_tree(unit_stop="hours")
```
## ğŸ” PrzykÅ‚adowy output:
```
2025-10-26 00:00-01:00
2025-10-26 01:00-02:00
2025-10-26 02:00-03:00 [â†‘1st]
2025-10-26 02:00-03:00 [â†“2nd]
2025-10-26 03:00-04:00
...
2025-10-26 23:00-00:00
Liczba godzin: 25

Struktura drzewa:
â””â”€â”€ 2025-10-26
    â”œâ”€â”€ 2025-10-26 00:00-01:00
    â”œâ”€â”€ 2025-10-26 01:00-02:00
    â”œâ”€â”€ 2025-10-26 02:00-03:00 [â†‘1st]
    â”œâ”€â”€ 2025-10-26 02:00-03:00 [â†“2nd]
    â”œâ”€â”€ 2025-10-26 03:00-04:00
    ...
```

